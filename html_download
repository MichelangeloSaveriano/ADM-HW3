from selenium import webdriver
from selenium.webdriver.common.keys import Keys
from webdriver_manager.firefox import GeckoDriverManager
from bs4 import BeautifulSoup
import requests
import re



#open the file with urls
file1=open("books_url.txt","r")
c=file1.readlines()
d=[]
#appending to an empty list
for string in c:
    
    d.append(string.rstrip("\n"))


i=0             #this value has to be initialized based on the starting point of d
driver = webdriver.Firefox(executable_path=GeckoDriverManager() .install())#if you have not firefox it is not ok

for url in d: #d is a list with lenght equal to 30.0000 if you select d[10000:20000] you will do only that subset
    
    print(i)
    #using selenium to bypass the block of the site
    driver.get(url)
    code=driver.page_source
    
    f=open("/Users/eugeniobaldo/Downloads/Hw3/book_"+str(i)+".html","w") #you have to change the path
    f.write(code) 
    f.close()
    i=i+1
